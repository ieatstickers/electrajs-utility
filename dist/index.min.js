!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var s=t();for(var r in s)("object"==typeof exports?exports:e)[r]=s[r]}}(this,(()=>(()=>{"use strict";var e,t={d:(e,s)=>{for(var r in s)t.o(s,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},s={};t.r(s),t.d(s,{Arrays:()=>i,HydrateModeEnum:()=>e,Numbers:()=>r,Objects:()=>a,Promises:()=>l,Strings:()=>o,Types:()=>u,Validators:()=>j});class r{static random(e,t){if(e>t)throw new Error("Minimum value cannot be greater than maximum value");return Math.floor(Math.random()*(t-e+1))+e}}!function(e){e.SOURCE_PROPERTIES="source_properties",e.DEST_PROPERTIES="dest_properties"}(e||(e={}));class a{static clone(t){if(!t||"object"!=typeof t||Array.isArray(t))throw new TypeError("Cannot clone object. Source object must be of type 'object'.");return this.hydrate(Object.create(t),t,{mode:e.SOURCE_PROPERTIES,includeNullValues:!0,includeMethods:!0})}static hydrate(t,s,r){if(r&&("object"!=typeof r||Array.isArray(r)))throw new TypeError('Cannot hydrate object. Options must be of type "object"');if(r=Object.assign({mode:e.DEST_PROPERTIES,mutators:{},includeNullValues:!0,includeMethods:!1},r||{}),!s||!t||"object"!=typeof t||"object"!=typeof s||Array.isArray(t)||Array.isArray(s))throw new TypeError('Cannot hydrate object. Source and destination object must both be of type "object"');const a=r.mode===e.SOURCE_PROPERTIES?Object.keys(s):Object.keys(t);for(const e of a){if(!s.hasOwnProperty(e))continue;const a=s[e];if(!1!==r.includeMethods||"function"!=typeof a)if(r.mutators[e]){if("function"!=typeof r.mutators[e])throw new Error(`Cannot hydrate object. Mutator for property "${e}" is not a function`);t[e]=r.mutators[e](a)}else!0===r.includeNullValues&&null==a?t[e]=a:Array.isArray(a)?t[e]=i.clone(a):t[e]="object"==typeof a?this.clone(a):a}return t}static getByKeyPath(e,t,s){if(!Array.isArray(e)||0===e.length)throw new TypeError("Invalid key path. Must be an array of strings and/or numbers.");const r=e.slice();let a=t;for(;r.length>0;){const e=r.shift();if(!a||"object"!=typeof a||!a.hasOwnProperty(e))return s;a=a[e]}return a}static setByKeyPath(e,t,s){if(!Array.isArray(e)||0===e.length)throw new TypeError("Invalid key path. Must be an array of strings and/or numbers.");const r=e.slice(),a=r.shift();return r.length?s[a]=this.setByKeyPath(r,t,s[a]||{}):s[a]=t,s}}class i{static clone(e){if(!Array.isArray(e))throw new TypeError(`Input type "${typeof e}" passed to Arrays.clone()`);return e.map((e=>Array.isArray(e)?this.clone(e):"object"==typeof e?a.clone(e):e))}static randomItem(e){if(!Array.isArray(e))throw new TypeError(`Input type "${typeof e}" passed to Arrays.randomItem()`);if(0===e.length)throw new Error("Cannot get random item from empty array");return e[r.random(0,e.length-1)]}}var n=function(e,t,s,r){return new(s||(s=Promise))((function(a,i){function n(e){try{o(r.next(e))}catch(e){i(e)}}function l(e){try{o(r.throw(e))}catch(e){i(e)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,l)}o((r=r.apply(e,t||[])).next())}))};class l{static all(e){return n(this,void 0,void 0,(function*(){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('Cannot resolve promises. Input must be of type "object"');if(Object.values(e).some((e=>!(e instanceof Promise))))throw new TypeError('Cannot resolve promises. Input must be of type "object" with all values being of type "Promise"');return Object.fromEntries(yield Promise.all(Object.entries(e).map((([e,t])=>n(this,void 0,void 0,(function*(){return[e,yield t]}))))))}))}}class o{static initialCaps(e){const t=e.split(" ");return t.reduce(((e,s,r)=>(e+=s.charAt(0).toUpperCase()+s.slice(1),r<t.length-1&&(e+=" "),e)),"")}static random(e=10,t){let s,r=0;for(;!s||t&&t.length&&t.includes(s);)if(s=this.generateRandomString(e,this.URL_SAFE_CHARS),r++,r>=100)throw new Error(`Could not generate a random string that isn't blacklisted after ${r} attempts`);return s}static generateRandomString(e,t){let s="";for(let a=0;a<e;a++)s+=t.charAt(r.random(0,t.length-1));return s}}o.URL_SAFE_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._";class u{static isString(e,t=!1){return"string"==typeof e||t&&!this.isSet(e)}static isBoolean(e,t=!1){return"boolean"==typeof e||t&&!this.isSet(e)}static isNumber(e,t=!1){return"number"==typeof e||t&&!this.isSet(e)}static isInteger(e,t=!1){return Number.isInteger(e)||t&&!this.isSet(e)}static isArray(e,t=!1){return Array.isArray(e)||t&&!this.isSet(e)}static isObject(e,t=!1){return null!==e&&"object"==typeof e&&!Array.isArray(e)||t&&!this.isSet(e)}static isFunction(e,t=!1){return"function"==typeof e||t&&!this.isSet(e)}static isNull(e){return null===e}static isUndefined(e){return void 0===e}static isSet(e){return!this.isNull(e)&&!this.isUndefined(e)}static isEnum(e,t=!1){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)&&Object.keys(e).every((e=>this.isString(e)))&&Object.values(e).every((e=>"string"==typeof e||"number"==typeof e))||t&&!this.isSet(e)}static isEnumValue(e,t,s=!1){if(!this.isEnum(t))throw new TypeError("Invalid enum passed to Types.isEnumValue");return Object.values(t).includes(e)||s&&!this.isSet(e)}}class h{constructor(e){this.options=Object.assign({},this.getDefaultOptions(),e)}getOption(e){return this.options[e]}getValueType(e){return null===e?"null":Array.isArray(e)?"array":typeof e}handleValueNotSet(e){return!0===this.getOption("optional")?this.handleResult({value:e,valid:!0,message:null}):this.handleResult({value:e,valid:!1,message:`Value is required - ${this.getValueType(e)} provided`})}handleResult(e){if(this.getOption("throwErrors")&&!1===e.valid)throw new TypeError(e.message);return e}getDefaultOptions(){return{optional:!1,throwErrors:!1}}}class d extends h{validate(e){return u.isSet(e)?u.isString(e)?this.handleResult({value:e,valid:!0,message:null}):this.handleResult({value:e,valid:!1,message:`Value must be a string - ${this.getValueType(e)} provided`}):this.handleValueNotSet(e)}}class c extends h{validate(e){return u.isSet(e)?u.isArray(e)?this.handleResult({value:e,valid:!0,message:null}):this.handleResult({value:e,valid:!1,message:`Value must be an array - ${this.getValueType(e)} provided`}):this.handleValueNotSet(e)}}class y extends h{validate(e){return u.isSet(e)?u.isBoolean(e)?this.handleResult({value:e,valid:!0,message:null}):this.handleResult({value:e,valid:!1,message:`Value must be a boolean - ${this.getValueType(e)} provided`}):this.handleValueNotSet(e)}}class m extends h{validate(e){return u.isSet(e)?u.isNumber(e)?this.handleResult({value:e,valid:!0,message:null}):this.handleResult({value:e,valid:!1,message:`Value must be a number - ${this.getValueType(e)} provided`}):this.handleValueNotSet(e)}}class p extends h{validate(e){return u.isSet(e)?u.isObject(e)?this.handleResult({value:e,valid:!0,message:null}):this.handleResult({value:e,valid:!1,message:`Value must be an object - ${this.getValueType(e)} provided`}):this.handleValueNotSet(e)}}class v extends h{constructor(e,t){super(t),this.schema=e}validate(e){if(!u.isSet(e))return this.handleValueNotSet(e);if(!u.isObject(e))return this.handleResult({value:e,valid:!1,message:`Value must be of type object - ${this.getValueType(e)} provided`});for(const[t,s]of Object.entries(this.schema)){const{valid:r,message:a}=s.validate(e[t]);if(!r)return this.handleResult({value:e,valid:!1,message:`${t} does not match schema definition. ${a}`})}return this.handleResult({value:e,valid:!0,message:null})}}class f extends h{constructor(e,t){super(t),this.validators=e}validate(e){if(!u.isSet(e))return this.handleValueNotSet(e);for(const t of this.validators){const{valid:s,message:r}=t.validate(e);if(!s)return this.handleResult({value:e,valid:!1,message:r})}return this.handleResult({value:e,valid:!0,message:null})}}class g extends h{constructor(e,t){super(t),this.validators=e}validate(e){if(!u.isSet(e))return this.handleValueNotSet(e);for(const t of this.validators){const{valid:s}=t.validate(e);if(s)return this.handleResult({value:e,valid:!0,message:null})}return this.handleResult({value:e,valid:!1,message:`Value doesn't pass any specified validators - ${this.getValueType(e)} provided`})}}class b extends h{constructor(e,t){super(t),this.minLength=e}validate(e){return u.isSet(e)?u.isString(e)||u.isArray(e)?e.length<this.minLength?this.handleResult({value:e,valid:!1,message:`Value must be at least ${this.minLength} in length - ${this.getValueType(e)} of length ${e.length} provided`}):this.handleResult({value:e,valid:!0,message:null}):this.handleResult({value:e,valid:!1,message:`Value must be a string or an array - ${this.getValueType(e)} provided`}):this.handleValueNotSet(e)}}class S extends h{constructor(e,t){super(t),this.maxLength=e}validate(e){return u.isSet(e)?u.isString(e)||u.isArray(e)?e.length>this.maxLength?this.handleResult({value:e,valid:!1,message:`Value must be no more than ${this.maxLength} in length - ${this.getValueType(e)} of length ${e.length} provided`}):this.handleResult({value:e,valid:!0,message:null}):this.handleResult({value:e,valid:!1,message:`Value must be a string or an array - ${this.getValueType(e)} provided`}):this.handleValueNotSet(e)}}class w extends h{constructor(e,t){if(super(t),!u.isEnum(e))throw new TypeError("EnumValueValidator requires a valid enum");this.enumClass=e}validate(e){if(!u.isSet(e))return this.handleValueNotSet(e);if(!u.isString(e)&&!u.isNumber(e))return this.handleResult({value:e,valid:!1,message:`Enum value must be a string or a number - ${this.getValueType(e)} provided`});if(!u.isEnumValue(e,this.enumClass)){const t=Object.values(this.enumClass);return this.handleResult({value:e,valid:!1,message:`Value must be ${t.slice(0,-1).join(", ")} or ${t.slice(-1)} - "${e}" provided`})}return this.handleResult({value:e,valid:!0,message:null})}}class j{static all(e,t){return new f(e,t)}static any(e,t){return new g(e,t)}static array(e){return new c(e)}static boolean(e){return new y(e)}static enumValue(e,t){return new w(e,t)}static maxLength(e,t){return new S(e,t)}static minLength(e,t){return new b(e,t)}static number(e){return new m(e)}static object(e){return new p(e)}static schema(e,t){return new v(e,t)}static string(e){return new d(e)}}return s})()));